(this.webpackJsonpsnakegame=this.webpackJsonpsnakegame||[]).push([[0],{18:function(e,t,s){"use strict";s.r(t);var i=s(1),n=s.n(i),a=s(8),o=s.n(a),r=(s(7),s(9)),d=s.n(r),c=s(12),h=s(5),l=s(2),y=s(10),u=s(11),f=function(){function e(t){Object(y.a)(this,e),this.speed=5,this.score=0,this.snakeBody=[{x:11,y:11},{x:11,y:10},{x:11,y:9},{x:11,y:8}],this.indexOfApple=[],this.board=t,this.direction={x:1,y:0},this.isDead=!1,this.totalMoves=0}return Object(u.a)(e,[{key:"spawnApple",value:function(){if(2===this.indexOfApple.length){var e,t=Object(l.a)(this.indexOfApple);try{for(t.s();!(e=t.n()).done;){var s=e.value,i=document.createElement("div");i.classList.add("apple"),i.style.gridRowStart=s.x,i.style.gridColumnStart=s.y,this.board.appendChild(i)}}catch(a){t.e(a)}finally{t.f()}}else{var n=this.givePositiveCoordinates();this.indexOfApple.push({x:n.x,y:n.y})}}},{key:"givePositiveCoordinates",value:function(){var e,t={x:Object(h.a)(Array(21).keys()).slice(1)[Math.floor(20*Math.random())],y:Object(h.a)(Array(21).keys()).slice(1)[Math.floor(20*Math.random())]},s=Object(l.a)(this.snakeBody);try{for(s.s();!(e=s.n()).done;){var i=e.value;if(t.x===i.x&&t.y===i.y)return this.givePositiveCoordinates()}}catch(r){s.e(r)}finally{s.f()}var n,a=Object(l.a)(this.indexOfApple);try{for(a.s();!(n=a.n()).done;){var o=n.value;if(t.x===o.x&&t.y===o.y)return this.givePositiveCoordinates()}}catch(r){a.e(r)}finally{a.f()}return t}},{key:"handleApple",value:function(){var e,t=Object(l.a)(this.indexOfApple);try{for(t.s();!(e=t.n()).done;){var s=e.value;if(this.snakeBody[0].x===s.y&&this.snakeBody[0].y===s.x){this.indexOfApple.splice(this.indexOfApple.indexOf(s),1),this.score+=1,10===this.speed?this.speed=10:this.speed+=.5,this.snakeBody=[].concat(Object(h.a)(this.snakeBody),[{x:this.snakeBody[this.snakeBody.length-1].x+1,y:this.snakeBody[this.snakeBody.length-1].y+1}]);var i=this.givePositiveCoordinates();this.indexOfApple.push({x:i.x,y:i.y})}}}catch(n){t.e(n)}finally{t.f()}}},{key:"handleCrash",value:function(){var e,t=Object(l.a)(this.snakeBody.slice(1));try{for(t.s();!(e=t.n()).done;){var s=e.value;if(this.snakeBody[0].x===s.x&&this.snakeBody[0].y===s.y){if(this.isDead||this.totalMoves<5)continue;this.isDead=!0,this.restart()}}}catch(i){t.e(i)}finally{t.f()}if(this.snakeBody[0].x<1||this.snakeBody[0].x>=20||this.snakeBody[0].y<1||this.snakeBody[0].y>=20){if(this.isDead)return;this.isDead=!0,this.restart()}}},{key:"move",value:function(){this.handleCrash();for(var e=this.snakeBody.length-2;e>=0;e--)this.snakeBody[e+1]=Object(c.a)({},this.snakeBody[e]);this.snakeBody[0].x+=this.direction.x,this.snakeBody[0].y+=this.direction.y}},{key:"handleClick",value:function(e){switch(e.key.toLowerCase()){default:return;case"w":case"arrowup":if(1===this.direction.y)return;this.direction={x:0,y:-1},this.totalMoves+=1;break;case"d":case"arrowright":if(-1===this.direction.x)return;this.direction={x:1,y:0},this.totalMoves+=1;break;case"a":case"arrowleft":if(1===this.direction.x)return;this.direction={x:-1,y:0},this.totalMoves+=1;break;case"s":case"arrowdown":if(-1===this.direction.y)return;this.direction={x:0,y:1},this.totalMoves+=1}}},{key:"draw",value:function(){this.board.innerHTML="";for(var e=0;e<this.snakeBody.length;e++){var t=document.createElement("div");0===e?t.classList.add("head"):t.classList.add("body"),t.style.gridRowStart=this.snakeBody[e].y,t.style.gridColumnStart=this.snakeBody[e].x,this.board.appendChild(t)}}},{key:"restart",value:function(){document.getElementById("border").style.display="none",document.querySelector("h2").textContent="You lost!",document.querySelector(".score").innerHTML="\n        Score: ".concat(this.score,"\n        <br/>\n        Total moves: ").concat(this.totalMoves,'\n        <br/>\n        <button id="playagain" onclick="window.location.reload(false)">Play Again</button>\n        ')}}]),e}();var v=function(){return Object(i.useEffect)((function(){var e=document.getElementById("border"),t=new f(e),s=0;function i(e){window.requestAnimationFrame(i),(e-s)/1e3<1/t.speed||(s=e,t.move(),t.draw(),t.spawnApple(),t.handleApple(),t.isDead||(document.querySelector(".score").textContent="Score: ".concat(t.score)))}window.addEventListener("keydown",(function(e){["w","a","s","d","ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(e.key)&&(document.getElementById("instructions").style.display="none",t.handleClick(e),window.requestAnimationFrame(i))}))}),[]),null},x=s(0);var p=function(){return Object(x.jsx)("div",{className:"border",id:"border",children:Object(x.jsx)(v,{})})};var k=function(){return Object(x.jsxs)("div",{className:"app",children:[Object(x.jsxs)("div",{id:"instructions",children:["Press ",Object(x.jsx)("i",{className:"keyboard-button",children:"W"})," ",Object(x.jsx)("i",{className:"keyboard-button",children:"A"})," ",Object(x.jsx)("i",{className:"keyboard-button",children:"S"})," ",Object(x.jsx)("i",{className:"keyboard-button",children:"D"})," to play."]}),Object(x.jsx)(d.a,{title:"Snake Game",icon:""}),Object(x.jsxs)("center",{children:[Object(x.jsx)("h2",{children:"Snake Game"}),Object(x.jsx)("p",{className:"score",children:"Score: 0"})]}),Object(x.jsx)(p,{})]})};o.a.render(Object(x.jsx)(n.a.StrictMode,{children:Object(x.jsx)(k,{})}),document.getElementById("root"))},7:function(e,t,s){}},[[18,1,2]]]);
//# sourceMappingURL=main.57f52490.chunk.js.map